# ============================================
# NER LATALMUD - VARIABLES DE ENTORNO
# ============================================
# 
# Copia este archivo a .env y configura los valores
# NUNCA commitees el archivo .env

# Base de Datos
# ⚠️ REQUERIDO en staging/production
# Formato: postgresql://usuario:password@host:puerto/database?schema=public
# 
# ⚠️ IMPORTANTE: Si usas Supabase con Vercel, DEBES usar el Connection Pooler
# NO uses la conexión directa (db.xxxxx.supabase.co:5432)
# Usa: aws-0-[REGION].pooler.supabase.com:6543 con ?pgbouncer=true
# Ver: docs/SUPABASE_SETUP.md para más detalles
DATABASE_URL="postgresql://usuario:password@localhost:5432/ner_latalmud?schema=public"

# Super Administradores
# ⚠️ REQUERIDO en staging/production
# Lista de emails separados por comas que deben tener rol SUPER_ADMIN
# Ejemplo: "teddy@nerlatalmud.com,moshe@nerlatalmud.com"
SUPER_ADMIN_EMAILS="teddy@nerlatalmud.com,moshe@nerlatalmud.com"

# URL de la Aplicación
# ⚠️ REQUERIDO en staging/production
# URL pública de la aplicación (sin trailing slash)
# Ejemplo para staging: "https://staging.nerlatalmud.com"
# Ejemplo para production: "https://app.nerlatalmud.com"
APP_BASE_URL="http://localhost:3000"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Almacenamiento de PDFs
# Directorio donde se almacenan los PDFs generados
# En Vercel, usar /tmp para almacenamiento temporal
# Para almacenamiento persistente, usar servicio externo (S3, etc.)
PDF_STORAGE_DIR="./storage/pdfs"

# Sesión
# ⚠️ REQUERIDO en staging/production
# Secreto para firmar cookies de sesión (HMAC-SHA256)
# Debe ser una cadena aleatoria de al menos 32 caracteres
# Generar con: openssl rand -base64 32
SESSION_SECRET="change-this-to-a-random-secret-at-least-32-chars-long"

# JWT (PR1: Magic Link Auth)
# ⚠️ REQUERIDO en staging/production
# Secreto para firmar tokens JWT de sesión
# Debe ser una cadena aleatoria de al menos 32 caracteres
# Generar con: openssl rand -base64 32
JWT_SECRET=""

# Magic Link
# Tiempo de expiración del magic link en minutos (default: 15)
MAGIC_LINK_TTL_MINUTES=15

# Seed (Solo para desarrollo/staging)
# ⚠️ REQUERIDO si se usa el endpoint /api/seed
# Token secreto para proteger el endpoint de seed
# Generar con: openssl rand -hex 32
SEED_SECRET_TOKEN=""

# Entorno
# Automáticamente configurado por Vercel:
# - development: local
# - preview: preview deployments
# - production: production deployments
NODE_ENV="development"

# ============================================
# NOTAS
# ============================================
# 
# 1. NUNCA commitees el archivo .env
# 2. En Vercel, configura estas variables en:
#    Project Settings > Environment Variables
# 3. Para staging, usa un DATABASE_URL diferente
# 4. SUPER_ADMIN_EMAILS debe contener los emails reales
#    de los super administradores (Teddy y Moshe)
